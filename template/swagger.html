<!DOCTYPE html>
<html>
<head>
    <title>Swagger </title>
    <link rel="stylesheet" href="../index.css" >
</head>
<body>
    
    <p class="header2">Swagger</p>
    <pre>
        <code>
            //index.js

            import swagger from 'swagger-ui-express';   
            import apiDocs from './swagger.json' assert {type: 'json'};     //import swagger.json
            server.use("/api-docs", swagger.serve, swagger.setup(apiDocs));  //use swagger.json

           
        </code>
    </pre>

    
    <pre>
        <u>//swagger.json</u>
        <hr>
        <code>{
            "openapi": "3.0.0",
            "info":{
                "version":"1.0.0",
                "description":"API for E-Commerce application",
                "title":"E-commerce API"
            },
            "servers":[
                {
                    "url":"http://localhost:3200"
                }
            ],
        
            "components":
            {
                "securitySchemes":
                {
                    "JWT":
                    {
                        "in":"header",
                        "name":"Authorization",
                        "type": "apiKey"
                    }
                }
            },
        
            "paths":
            {
                "/api/products": {
                    "get":
                    {
                        "tags": ["Products"],
                        "summary":"Get Products",
                        "description":"User will get all products",
                        "security":[{"JWT": {} }],
                        "responses":
                        {
                            "200": {
                                "description":"OK"
                            },
                            "401": {
                                "description": "Unauthorized"
                            }
                        }
                    }
                },
        
                "/api/users/signin": 
                {
                    "post":
                    {
                        "tags": ["Users"],
                        "summary":"Login",
                        "description":"User login to get token",
                        "requestBody":
                        {
                            "content":
                            {
                                "application/json":{
                                    "schema": {
                                        "type": "object",
                                        "properties": {
                                            "email":{
                                                "type": "string"
                                            },
                                            "password":{
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "responses":{
                            "200": {
                                "description":"OK"
                            },
                            "400": {
                                "description": "Incorrect Credentials"
                            }
                        }
                    }
                }
            }
        }
        </code>
    </pre>

</body>
</html>
